# Changelog

## 2026-01-18 - UX Improvements

### Availability Heatmap Enhancements

#### Time Display
- ✅ Changed from 24-hour format to 12-hour format with AM/PM throughout the app
- Affects: Board view heatmap, Add availability grid

#### Selection Improvements
- ✅ **Drag-to-select**: Click and drag across cells to select multiple time slots at once
- ✅ **Row selection**: Click on time labels (left side) to select entire row across all days
- ✅ **Column selection**: Click on day headers (top) to select entire day
- Enhanced instructions on the add availability page

#### Contributor Management
- ✅ Show list of contributors with their names above the heatmap
- ✅ Each contributor has an "Edit" button (currently links to add page)
- Contributors displayed in attractive pill-style badges

#### Interactive Heatmap
- ✅ **Click on any cell** to see detailed availability for that time slot
- Modal popup shows:
  - Available contributors (with checkmarks)
  - Unavailable contributors (with X marks)
  - Time and date for the selected slot
- Updated helper text: "Click on any cell to see who's available"

#### Navigation Improvements
- ✅ Added "Home" and "Create new board" buttons on board view page
- Easy navigation back to homepage or creating another board

#### UI Refinements
- ✅ **Hidden timezone field** for now (still captures in background)
- ✅ **Removed "Copy preview" button** - only "Copy link" remains
- ✅ **Fixed dropdown styling** in light mode - dropdowns now properly show light/white background
- ✅ **Moved "Add Availability" button** above the heatmap, below contributors list

### New Features

#### Metrics Page
- ✅ Created hidden metrics page at `/metrics`
- Not linked in navigation (accessible only by direct URL)
- Dashboard showing:
  - Total boards created
  - Total contributions
  - Total views
  - Positive/negative feedback counts
  - Recent boards list
  - Recent feedback
- Currently shows placeholder data (ready for backend implementation)
- Includes implementation note for connecting to real data

### Technical Improvements

#### API Enhancements
- Updated board API to include contributor information with names
- Contributors data now includes contribution IDs and selected slots
- Enables rich client-side interactions without additional API calls

#### Styling
- Added `!important` flags to ensure light/dark mode styles apply correctly to all form elements
- Fixed select/option element backgrounds in both themes
- Improved responsive design for touch interfaces

### Files Changed

- `app/b/[boardId]/page.tsx` - Main board view with all enhancements
- `app/b/[boardId]/add/page.tsx` - Complete rewrite with drag-to-select
- `app/api/boards/[boardId]/route.ts` - Added contributor data to response
- `app/tools/availability/create/page.tsx` - Hidden timezone, fixed styling
- `app/globals.css` - Enhanced theme support for form elements
- `app/metrics/page.tsx` - New metrics dashboard (hidden)
- `lib/types.ts` - Added contributors array to BoardPublicData type

### User Experience Flow

**Creating a Board:**
1. User sees tools immediately on homepage (no "Get started" button)
2. Cleaner form with dropdowns for hours (AM/PM format)
3. Timezone captured automatically in background

**Adding Availability:**
1. Click and drag to select time slots (much faster)
2. Click row/column headers for bulk selection
3. Clear visual feedback with blue highlighting
4. Submit with autogenerated name (editable)

**Viewing Board:**
1. See all contributors at a glance with edit options
2. Click "Add Availability" button (prominently placed)
3. Click any heatmap cell to see detailed availability
4. Easy navigation to home or create new board
5. Simple "Copy link" to share

### Next Steps

**Future Enhancements:**
- Implement actual edit functionality (vs link to add page)
- Connect metrics page to real DynamoDB queries
- Add server-side aggregation for metrics
- Consider adding authentication for metrics access
- Implement contribution editing/deletion

**Known Limitations:**
- Edit button currently just links to add page (doesn't prefill data)
- Metrics page shows placeholder data only
- No way to delete your own contribution yet

---

## Previous Versions

### 2026-01-18 - Initial Deployment
- First successful deployment to AWS Amplify
- Fixed IAM permissions for DynamoDB access
- Configured environment variables correctly
- Basic availability heatmap functionality working
